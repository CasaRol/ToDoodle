<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="styles.css">
    <script>
        var array = [1, 2, 3, 'Dillertjavs!!!!'];

        window.onload = () => {
            document.getElementById('list').appendChild(createList(array));

            createList(array);
            
        } 

        function createList(array) {
                
                var list = document.createElement('ul');
        
                for(var i = 0; i < array.length; i++) {
                    //Create list element
                    var item = document.createElement('li');
            
                    //set element content
                    item.appendChild(document.createTextNode(array[i]));
            
                    //add item to list
                    list.appendChild(item);
                }
        
            return list;
            } 

        function addToDo() {
            if(document.getElementById("todo").value !== "") {
                let entry = document.getElementById("todo").value;

                console.log("before = " + array);

                array.push(entry);
                createList(array);

                console.log("after = " + array);

                document.getElementById("todo").value = "";

                saveData();

            }
        }

        function saveData() {
            fetch("http://localhost:8080/savedata"), {
                method: 'post',
                body: JSON.stringify(array),
                headers: {
                    "content-type": "application/json; charset=UTF-8"
                }
            }
        }

    </script>

    <h1>ToDoodle</h1>
    <p class="centering">Online ToDo-lists for your pesonal use</p>

</head>

<body>

    <div style="align-items: center">
        <input type="text" id="todo" placeholder="Enter ToDo Here">
        <input onclick="addToDo()" type="submit" value="Add to ToDo" id="textArea">
    </div>
    
    <div id="list"></div>
        
</body>
    
</html>